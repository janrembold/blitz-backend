"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LambdaStack = void 0;
const core_1 = require("@aws-cdk/core");
const aws_lambda_1 = require("@aws-cdk/aws-lambda");
const path = require("path");
class LambdaStack extends core_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        this.lambda = new aws_lambda_1.Function(this, 'stepFunctionTrigger', {
            functionName: `${props.stage}-lambda`,
            runtime: aws_lambda_1.Runtime.NODEJS_14_X,
            handler: props.handler,
            code: aws_lambda_1.Code.fromAsset(path.join(__dirname, '..', 'lambda', 'dist')),
            environment: props.environment
        });
    }
}
exports.LambdaStack = LambdaStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGFtYmRhLXN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibGFtYmRhLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHdDQUFxRDtBQUNyRCxvREFBdUU7QUFFdkUsNkJBQTZCO0FBUzdCLE1BQWEsV0FBWSxTQUFRLFlBQUs7SUFJbEMsWUFBWSxLQUFVLEVBQUUsRUFBVSxFQUFFLEtBQXVCO1FBQ3ZELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxxQkFBUSxDQUFDLElBQUksRUFBRSxxQkFBcUIsRUFBRTtZQUNwRCxZQUFZLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxTQUFTO1lBQ3JDLE9BQU8sRUFBRSxvQkFBTyxDQUFDLFdBQVc7WUFDNUIsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO1lBQ3RCLElBQUksRUFBRSxpQkFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ2xFLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztTQUNqQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUFmRCxrQ0FlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXBwLCBTdGFjaywgU3RhY2tQcm9wc30gZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQge0NvZGUsIEZ1bmN0aW9uLCBJRnVuY3Rpb24sIFJ1bnRpbWV9IGZyb20gJ0Bhd3MtY2RrL2F3cy1sYW1iZGEnO1xuaW1wb3J0IHsgVnBjIH0gZnJvbSAnQGF3cy1jZGsvYXdzLWVjMic7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExhbWJkYVN0YWNrUHJvcHMgZXh0ZW5kcyBTdGFja1Byb3BzIHtcbiAgICBlbnZpcm9ubWVudD86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9IHwgdW5kZWZpbmVkO1xuICAgIGhhbmRsZXI6IHN0cmluZztcbiAgICBzdGFnZTogc3RyaW5nOyBcbiAgICB2cGM6IFZwYztcbn1cblxuZXhwb3J0IGNsYXNzIExhbWJkYVN0YWNrIGV4dGVuZHMgU3RhY2sge1xuXG4gICAgcmVhZG9ubHkgbGFtYmRhOiBJRnVuY3Rpb247XG5cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogQXBwLCBpZDogc3RyaW5nLCBwcm9wczogTGFtYmRhU3RhY2tQcm9wcykge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcblxuICAgICAgICB0aGlzLmxhbWJkYSA9IG5ldyBGdW5jdGlvbih0aGlzLCAnc3RlcEZ1bmN0aW9uVHJpZ2dlcicsIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogYCR7cHJvcHMuc3RhZ2V9LWxhbWJkYWAsIFxuICAgICAgICAgICAgcnVudGltZTogUnVudGltZS5OT0RFSlNfMTRfWCxcbiAgICAgICAgICAgIGhhbmRsZXI6IHByb3BzLmhhbmRsZXIsIFxuICAgICAgICAgICAgY29kZTogQ29kZS5mcm9tQXNzZXQocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJ2xhbWJkYScsICdkaXN0JykpLFxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHByb3BzLmVudmlyb25tZW50XG4gICAgICAgIH0pO1xuICAgIH1cbn0iXX0=